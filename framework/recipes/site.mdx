import {Meta, Preview, Story, Props} from "@storybook/addon-docs/blocks";
import {useRef, useState} from "react";

import AApp from "../components/AApp";
import AButton from "../components/AButton";
import ACheckbox from "../components/ACheckbox";
import {AContainer, ARow, ACol, ASpacer} from "../components/ALayout";
import {
  ADropdown,
  ADropdownMenu,
  ADropdownMenuItem
} from "../components/ADropdown";
import {AFooter, AFooterLegal} from "../components/AFooter";
import {
  AHeader,
  AHeaderLogo,
  AHeaderNavigation,
  AHeaderTitle
} from "../components/AHeader";
import AIcon from "../components/AIcon";
import {APanel} from "../components/APanel";
import ASelect from "../components/ASelect";
import {ATabGroup, ATab} from "../components/ATabs";
import ATextInput from "../components/ATextInput";
import ATextarea from "../components/ATextarea";
import {useATheme} from "../components/ATheme";

import Root from "../utils/storybook-function";

<Meta title="Recipes/Example Site" component={AApp} />

# An Example Site

## Install

In the target component add:

```
import AApp from "@cisco-ats/atomic-react/AApp";
import AButton from "@cisco-ats/atomic-react/AButton";
import ACheckbox from "@cisco-ats/atomic-react/ACheckbox";
import {AContainer, ARow, ACol, ASpacer} from "@cisco-ats/atomic-react/ALayout";
import {ADropdown, ADropdownMenu, ADropdownMenuItem} from "@cisco-ats/atomic-react/ADropdown";
import {AFooter, AFooterLegal} from "@cisco-ats/atomic-react/AFooter";
import {AHeader, AHeaderLogo, AHeaderTitle, AHeaderNavigation} from "@cisco-ats/atomic-react/AHeader";
import AIcon from "@cisco-ats/atomic-react/AIcon";
import {APanel} from "@cisco-ats/atomic-react/APanel";
import ASelect from "@cisco-ats/atomic-react/ASelect";
import {ATabGroup, ATab} from "@cisco-ats/atomic-react/ATabs";
import ATextInput from "@cisco-ats/atomic-react/ATextInput";
import ATextarea from "@cisco-ats/atomic-react/ATextarea";
import {useATheme} from "@cisco-ats/atomic-react/ATheme";

// or if you're able to treekshake node_modules

import {
  AApp,
  AButton,
  ACheckbox,
  ACol,
  AContainer,
  ADropdown,
  ADropdownMenu,
  ADropdownMenuItem,
  AFooter,
  AFooterLegal,
  AHeader,
  AHeaderLogo,
  AHeaderTitle,
  AHeaderNavigation,
  AIcon,
  APanel,
  ARow,
  ASelect,
  ASpacer,
  ATabGroup,
  ATab,
  ATextInput,
  ATextarea,
  useATheme
} from "@cisco-ats/atomic-react";
```

## Usage

<Preview>
  <Story name="usage-1">
    <Root>
      {() => {
        const overview = useRef();
        const useCases = useRef();
        const pricing = useRef();
        const integrations = useRef();
        const reviews = useRef();
        const search = useRef();
        const trial = useRef();
        const [tabDropdownActive, setTabDropdownActive] = useState(false);
        const [currentPage, showPage] = useState(overview);
        return (
          <AApp defaultTheme="dusk">
            <AHeader style={{maxWidth: "100%", minWidth: "auto"}}>
              <AHeaderLogo href="https://www.cisco.com">
                <AIcon>cisco</AIcon>
              </AHeaderLogo>
              <AHeaderTitle>SecureQ</AHeaderTitle>
              <AHeaderNavigation>
                <ATabGroup tall>
                  <ATab onClick={() => showPage(overview)} selected>
                    Overview
                  </ATab>
                  <ATab onClick={() => showPage(useCases)}>Use Cases</ATab>
                  <ATab onClick={() => showPage(pricing)}>Pricing</ATab>
                  <ADropdown>
                    <ATab
                      onClick={() => setTabDropdownActive(!tabDropdownActive)}>
                      Explore
                      <AIcon size={10}>chevron-down</AIcon>
                    </ATab>
                    <ADropdownMenu
                      style={{top: "100%"}}
                      open={tabDropdownActive}
                      onClose={() => setTabDropdownActive(false)}>
                      <ADropdownMenuItem onClick={() => showPage(integrations)}>
                        Integrations
                      </ADropdownMenuItem>
                      <ADropdownMenuItem onClick={() => showPage(reviews)}>
                        Customer Reviews
                      </ADropdownMenuItem>
                    </ADropdownMenu>
                  </ADropdown>
                </ATabGroup>
              </AHeaderNavigation>
              <AButton
                icon
                tertiaryAlt
                className="mr-3"
                onClick={() => showPage(search)}
                target="_blank">
                <AIcon>search</AIcon>
              </AButton>
              <AButton
                primary
                className="coral"
                onClick={() => showPage(trial)}>
                Free Trial
              </AButton>
            </AHeader>
            {currentPage === overview && (
              <AContainer ref={overview}>
                <ARow>
                  <ASpacer />
                  <ACol cols="8">
                    <APanel className="px-2" type="grey">
                      <AContainer>
                        <ARow>
                          <ACol>
                            <h3>Form</h3>
                            <p>
                              Please submit the following form. Responsive
                              trigger at 986px.
                            </p>
                          </ACol>
                        </ARow>
                        <ARow>
                          <ACol cols="12" sm="6">
                            <ATextInput label="Name" />
                          </ACol>
                          <ACol>
                            <ASelect
                              items={["Read", "Write", "Admin"]}
                              label="Role"
                            />
                          </ACol>
                        </ARow>
                        <ARow>
                          <ACol>
                            <ATextarea
                              label="Comments"
                              style={{width: "100%"}}
                            />
                          </ACol>
                        </ARow>
                        <ARow>
                          <ACol className="text-right">
                            <AButton>Submit</AButton>
                          </ACol>
                        </ARow>
                      </AContainer>
                    </APanel>
                  </ACol>
                  <ASpacer />
                </ARow>
              </AContainer>
            )}
            {currentPage === trial && (
              <AContainer ref={trialRef}>
                <ARow>
                  <ASpacer />
                  <ACol cols="8">
                    <APanel className="px-2" type="grey">
                      <AContainer>
                        <ARow>
                          <ACol>
                            <h3>Form</h3>
                            <p>
                              Please submit the following form. Responsive
                              trigger at 986px.
                            </p>
                          </ACol>
                        </ARow>
                        <ARow>
                          <ACol cols="12" sm="6">
                            <ATextInput label="Name" />
                          </ACol>
                          <ACol>
                            <ASelect
                              items={["Read", "Write", "Admin"]}
                              label="Role"
                            />
                          </ACol>
                        </ARow>
                        <ARow>
                          <ACol>
                            <ATextarea
                              label="Comments"
                              style={{width: "100%"}}
                            />
                          </ACol>
                        </ARow>
                        <ARow>
                          <ACol className="text-right">
                            <AButton>Submit</AButton>
                          </ACol>
                        </ARow>
                      </AContainer>
                    </APanel>
                  </ACol>
                  <ASpacer />
                </ARow>
              </AContainer>
            )}
          </AApp>
        );
      }}
    </Root>
  </Story>
</Preview>
