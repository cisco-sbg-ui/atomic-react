import { Meta, Preview, Story, Props } from '@storybook/addon-docs/blocks';
import {useState} from 'react'

import YourComponent from '../../utils/storybook-function'
import AApp from '../AApp'
import ATextInput from "./ATextInput"

<Meta title="Components/Text Inputs" component={ATextInput} />

# Text Inputs

## Install

In the target component add:

```
import ATextInput from "@cisco-ats/atomic-react/ATextInput";
```

## Usage

<Preview>
  <Story name="usage-1">
    <AApp>
      <YourComponent>
    {() => {
      const [status, setStatus] = useState("default");
      const [value, setValue] = useState("Clear Me ->");
      return (
        <ATextInput
          appendIcon="close"
          onChange={(e) => { setValue(e.target.value); setStatus(e.target.value.length === 0 ? "danger" : e.target.value.length < 3 ? "warning" : "default"); }}
          onClickAppend={() => { setValue(""); setStatus("default"); }}
          placeholder="Search"
          prependIcon="search"
          validationState={status}
          value={value} />
      );
    }}
      </YourComponent>
    </AApp>
  </Story>
</Preview>

## Text Input Props

The `ATextInput` component inherits passed props.

<Props of={ATextInput} />

## Validation States

<Preview>
  <Story name="validation-1">
    <AApp>
      <div style={{marginBottom: 20}}>
        <ATextInput placeholder="Normal" />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput placeholder="Normal" prependIcon="cisco" appendIcon="information" onClickPrepend={() => alert('Cisco Systems!')} />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput placeholder="Disabled" disabled />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput placeholder="Disabled" disabled prependIcon="cisco" appendIcon="information" onClickPrepend={() => alert('Cisco Systems!')} />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput placeholder="Read Only State" readOnly />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput placeholder="Read Only State" readOnly prependIcon="cisco" appendIcon="information" onClickPrepend={() => alert('Cisco Systems!')} />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput validationState="warning" placeholder="Warning State" />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput validationState="warning" placeholder="Warning" prependIcon="cisco" appendIcon="information" onClickPrepend={() => alert('Cisco Systems!')} />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput validationState="danger" placeholder="Danger State" />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput validationState="danger" placeholder="Danger State" prependIcon="cisco" appendIcon="information" onClickPrepend={() => alert('Cisco Systems!')} />
      </div>
    </AApp>
  </Story>
</Preview>

## Dusk Theme

<Preview style={{backgroundColor: '#18191d'}}>
  <Story name="dusk-1">
    <AApp theme="dusk">
      <div style={{marginBottom: 20}}>
        <ATextInput placeholder="Normal" />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput placeholder="Normal" prependIcon="cisco" appendIcon="information" onClickPrepend={() => alert('Cisco Systems!')} />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput placeholder="Disabled" disabled />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput placeholder="Disabled" disabled prependIcon="cisco" appendIcon="information" onClickPrepend={() => alert('Cisco Systems!')} />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput placeholder="Read Only State" readOnly />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput placeholder="Read Only State" readOnly prependIcon="cisco" appendIcon="information" onClickPrepend={() => alert('Cisco Systems!')} />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput validationState="warning" placeholder="Warning State" />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput validationState="warning" placeholder="Warning" prependIcon="cisco" appendIcon="information" onClickPrepend={() => alert('Cisco Systems!')} />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput validationState="danger" placeholder="Danger State" />
      </div>
      <div style={{marginBottom: 20}}>
        <ATextInput validationState="danger" placeholder="Danger State" prependIcon="cisco" appendIcon="information" onClickPrepend={() => alert('Cisco Systems!')} />
      </div>
    </AApp>
  </Story>
</Preview>

## Animations

Animations are enabled by default on the `AApp` component and can be disabled.

<Preview>
  <Story name="animations-1">
    <AApp>
      <ATextInput placeholder="Animated" />
    </AApp>
  </Story>
  <Story name="animations-2">
    <AApp animations={false}>
      <ATextInput placeholder="Not Animated" />
    </AApp>
  </Story>
</Preview>

## Accessibility Notes

The `ATextInput` `click` event handlers for prepended and appended icons are triggered both by the `click` event and by the `keyDown` event for both the `Enter` and `Space` keys.

Interactable prepended and appended icons are tab-focusable with a visual overlay.
