import { Meta, Preview, Story, Props } from '@storybook/addon-docs/blocks';
import {useState} from 'react'

import AApp from '../AApp'
import AButton from '../AButton'
import YourComponent from '../../utils/storybook-function'
import {ADropdown, ADropdownMenu, ADropdownMenuItem} from "./"

<Meta title="Components/Dropdowns" component={ADropdown} />

# Dropdowns

## Install

In the target component add:

```
import {ADropdown, ADropdownMenu, ADropdownMenuItem} from "@cisco-ats/atomic-react/ADropdown";
```

## Usage

<Preview>
  <Story name="usage-1">
    <AApp style={{minHeight: 150}}>
      <YourComponent>
    {() => {
      const [isActive, setIsActive] = useState(false);
      return (
        <ADropdown active={isActive}>
          <AButton aria-haspopup="true" onClick={() => setIsActive(!isActive)}>Open Menu</AButton>
          <ADropdownMenu>
            <ADropdownMenuItem selected>One - Selected</ADropdownMenuItem>
            <ADropdownMenuItem href="https://www.cisco.com" target="_blank">Cisco.com</ADropdownMenuItem>
            <ADropdownMenuItem>Three</ADropdownMenuItem>
          </ADropdownMenu>
        </ADropdown>
      );
    }}
      </YourComponent>
    </AApp>
  </Story>
</Preview>

## Dropdown Props

The `ADropdown` component inherits passed props.

<Props of={ADropdown} />

## Dropdown Menu Props

The `ADropdownMenu` component inherits passed props.

<Props of={ADropdownMenu} />

## Dropdown Menu Item Props

The `ADropdownMenuItem` component inherits passed props.

<Props of={ADropdownMenuItem} />

## Dusk Theme

<Preview style={{backgroundColor: '#18191d'}}>
  <Story name="dusk-1">
    <AApp theme="dusk" style={{minHeight: 150}}>
      <YourComponent>
    {() => {
      const [isActive, setIsActive] = useState(false);
      return (
        <ADropdown active={isActive}>
          <AButton aria-haspopup="true" onClick={() => setIsActive(!isActive)}>Open Menu</AButton>
          <ADropdownMenu>
            <ADropdownMenuItem>One - Selected</ADropdownMenuItem>
            <ADropdownMenuItem href="https://www.cisco.com" target="_blank">Cisco.com</ADropdownMenuItem>
            <ADropdownMenuItem selected>Three - Selected</ADropdownMenuItem>
          </ADropdownMenu>
        </ADropdown>
      );
    }}
      </YourComponent>
    </AApp>
  </Story>
</Preview>

## Accessibility Notes

By default, `ADropdownMenu` components are assigned the [WAI-ARIA](https://www.w3.org/WAI/standards-guidelines/aria/) role of [menu](https://www.w3.org/TR/wai-aria/#menu).

By default, `ADropdownMenuItem` components are assigned the [WAI-ARIA](https://www.w3.org/WAI/standards-guidelines/aria/) role of [menuitem](https://www.w3.org/TR/wai-aria/#menuitem).

Keyboard accessibility has been enabled via use of the arrow keys to navigate menu items.

The `ADropdownMenuItem` `click` event handler is triggered both by the `click` event and by the `keyDown` event for both the `Enter` and `Space` keys.

Ensure the activator is tab-focusable to remain compliant.
